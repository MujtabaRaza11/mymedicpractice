{{ 'section-about-us-banner.css' | asset_url | stylesheet_tag }}

<div class="about-us-banner" id="AboutUsBanner-{{ section.id }}">
  <div class="about-us-banner__image-container">
    {%- if section.settings.image != blank -%}
      <img srcset="{%- if section.settings.image.width >= 375 -%}{{ section.settings.image | image_url: width: 375 }} 375w,{%- endif -%}
                   {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | image_url: width: 750 }} 750w,{%- endif -%}
                   {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | image_url: width: 1100 }} 1100w,{%- endif -%}
                   {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | image_url: width: 1500 }} 1500w,{%- endif -%}
                   {%- if section.settings.image.width >= 2200 -%}{{ section.settings.image | image_url: width: 2200 }} 2200w,{%- endif -%}
                   {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | image_url: width: 3000 }} 3000w,{%- endif -%}"
           sizes="100vw"
           src="{{ section.settings.image | image_url: width: 1500 }}"
           loading="lazy"
           alt="{{ section.settings.image.alt | escape }}"
           width="{{ section.settings.image.width }}"
           height="{{ section.settings.image.height }}"
           class="about-us-banner__image about-us-banner__image-desktop">
    {%- else -%}
      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
    {%- endif -%}
    
    {%- if section.settings.image_mobile != blank -%}
      <img srcset="{%- if section.settings.image_mobile.width >= 375 -%}{{ section.settings.image_mobile | image_url: width: 375 }} 375w,{%- endif -%}
                   {%- if section.settings.image_mobile.width >= 750 -%}{{ section.settings.image_mobile | image_url: width: 750 }} 750w,{%- endif -%}
                   {%- if section.settings.image_mobile.width >= 1100 -%}{{ section.settings.image_mobile | image_url: width: 1100 }} 1100w,{%- endif -%}"
           sizes="100vw"
           src="{{ section.settings.image_mobile | image_url: width: 750 }}"
           loading="lazy"
           alt="{{ section.settings.image_mobile.alt | escape }}"
           width="{{ section.settings.image_mobile.width }}"
           height="{{ section.settings.image_mobile.height }}"
           class="about-us-banner__image about-us-banner__image-mobile">
    {%- endif -%}
  </div>
  
  <div class="about-us-banner__content-container about-position-{{ section.settings.content_position }} about-position-mobile-{{ section.settings.mobile_content_position }}">
    <div class="about-us-banner__content-wrapper content-alignment-{{ section.settings.content_alignment }} content-alignment-mobile-{{ section.settings.mobile_content_alignment }}">
      {%- if section.settings.heading != blank -%}
        <h2 class="about-us-banner__heading">{{ section.settings.heading }}</h2>
      {%- endif -%}
      
      {%- if section.settings.text != blank -%}
        <div class="about-us-banner__text">{{ section.settings.text }}</div>
      {%- endif -%}
      
      {%- if section.settings.button_text != blank -%}
        <div class="about-us-banner__button-container button-position-{{ section.settings.button_position }} button-position-mobile-{{ section.settings.mobile_button_position }}">
          <a href="{{ section.settings.button_link | default: '#' }}" class="about-us-banner__button">
            {{ section.settings.button_text }}{% if section.settings.button_arrow %} <span class="button-arrow">&rsaquo;</span>{% endif %}
          </a>
        </div>
      {%- endif -%}
    </div>
  </div>
</div>

<style>
  #AboutUsBanner-{{ section.id }} {
    --desktop-overlay-opacity: {{ section.settings.overlay_opacity | times: 0.01 }};
    --mobile-overlay-opacity: {{ section.settings.mobile_overlay_opacity | times: 0.01 }};
    --overlay-color: {{ section.settings.overlay_color }};
    
    --heading-font-size: {{ section.settings.heading_font_size }}px;
    --heading-font-weight: {{ section.settings.heading_font_weight }};
    --heading-color: {{ section.settings.heading_color }};
    --heading-text-transform: {{ section.settings.heading_text_transform }};
    --heading-margin-bottom: {{ section.settings.heading_margin_bottom }}px;
    
    --text-font-size: {{ section.settings.text_font_size }}px;
    --text-line-height: {{ section.settings.text_line_height }};
    --text-color: {{ section.settings.text_color }};
    --text-margin-bottom: {{ section.settings.text_margin_bottom }}px;
    --text-max-width: {{ section.settings.text_max_width }}px;
    
    --button-padding-v: {{ section.settings.button_padding_v }}px;
    --button-padding-h: {{ section.settings.button_padding_h }}px;
    --button-font-size: {{ section.settings.button_font_size }}px;
    --button-font-weight: {{ section.settings.button_font_weight }};
    --button-text-color: {{ section.settings.button_text_color }};
    --button-bg-color: {{ section.settings.button_bg_color }};
    --button-hover-bg-color: {{ section.settings.button_hover_bg_color }};
    --button-border-radius: {{ section.settings.button_border_radius }}px;
    
    --content-padding: {{ section.settings.content_padding }}px;
    --content-width: {{ section.settings.content_width }}px;
    --content-bg-opacity: {{ section.settings.content_bg_opacity | times: 0.01 }};
    --content-bg-color: {{ section.settings.content_bg_color }};
    
    --mobile-heading-font-size: {{ section.settings.mobile_heading_font_size }}px;
    --mobile-heading-font-weight: {{ section.settings.mobile_heading_font_weight }};
    --mobile-heading-text-transform: {{ section.settings.mobile_heading_text_transform }};
    
    --mobile-text-font-size: {{ section.settings.mobile_text_font_size }}px;
    --mobile-text-line-height: {{ section.settings.mobile_text_line_height }};
    
    --mobile-button-font-size: {{ section.settings.mobile_button_font_size }}px;
    --mobile-button-font-weight: {{ section.settings.mobile_button_font_weight }};
    
    --mobile-content-padding: {{ section.settings.mobile_content_padding }}px;
    --mobile-content-width: {{ section.settings.mobile_content_width }}%;
    --mobile-content-bg-opacity: {{ section.settings.mobile_content_bg_opacity | times: 0.01 }};
    
    /* Section height settings */
    --desktop-height: {{ section.settings.desktop_height }}px; 
    --mobile-height: {{ section.settings.mobile_height }}px;
    
    /* Section margin settings */
    --desktop-margin-top: {{ section.settings.desktop_margin_top }}px;
    --desktop-margin-bottom: {{ section.settings.desktop_margin_bottom }}px;
    --mobile-margin-top: {{ section.settings.mobile_margin_top }}px;
    --mobile-margin-bottom: {{ section.settings.mobile_margin_bottom }}px;
  }
  
  .about-us-banner__button:hover {
    background-color: {{ section.settings.button_hover_bg_color }};
  }
</style>

<script>
  // Function to convert hex color to RGB values
  function hexToRgb(hex) {
    // Remove the # if present
    hex = hex.replace(/^#/, '');
    
    // Parse as hex numbers
    let r, g, b;
    if (hex.length === 3) {
      // For shorthand hex like #ABC
      r = parseInt(hex.charAt(0) + hex.charAt(0), 16);
      g = parseInt(hex.charAt(1) + hex.charAt(1), 16);
      b = parseInt(hex.charAt(2) + hex.charAt(2), 16);
    } else {
      // For full hex like #AABBCC
      r = parseInt(hex.substring(0, 2), 16);
      g = parseInt(hex.substring(2, 4), 16);
      b = parseInt(hex.substring(4, 6), 16);
    }
    
    return `${r}, ${g}, ${b}`;
  }
  
  // Extract RGB values from the content background color
  document.addEventListener('DOMContentLoaded', function() {
    const banner = document.getElementById('AboutUsBanner-{{ section.id }}');
    if (banner) {
      const bgColor = '{{ section.settings.content_bg_color }}';
      const rgbValues = hexToRgb(bgColor);
      banner.style.setProperty('--content-bg-color-rgb', rgbValues);
    }
  });
</script>

{% schema %}
{
  "name": "About Us Banner",
  "settings": [
    {
      "type": "header",
      "content": "Banner Images"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Desktop image"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Mobile image",
      "info": "If none is set, desktop image will be used"
    },
    {
      "type": "header",
      "content": "Section Spacing"
    },
    {
      "type": "range",
      "id": "desktop_margin_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Desktop margin top",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_margin_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Desktop margin bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_margin_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Mobile margin top",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_margin_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Mobile margin bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_height",
      "min": 300,
      "max": 800,
      "step": 10,
      "unit": "px",
      "label": "Desktop section height",
      "default": 480
    },
    {
      "type": "range",
      "id": "mobile_height",
      "min": 200,
      "max": 600,
      "step": 10,
      "unit": "px",
      "label": "Mobile section height",
      "default": 360
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 90,
      "step": 5,
      "unit": "%",
      "label": "Desktop image overlay opacity",
      "default": 25
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "mobile_overlay_opacity",
      "min": 0,
      "max": 90,
      "step": 5,
      "unit": "%",
      "label": "Mobile image overlay opacity",
      "default": 50
    },
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "select",
      "id": "content_position",
      "label": "Desktop content position",
      "options": [
        {
          "value": "top-left",
          "label": "Top left"
        },
        {
          "value": "top-center",
          "label": "Top center"
        },
        {
          "value": "top-right",
          "label": "Top right"
        },
        {
          "value": "middle-left",
          "label": "Middle left"
        },
        {
          "value": "middle-center",
          "label": "Middle center"
        },
        {
          "value": "middle-right",
          "label": "Middle right"
        },
        {
          "value": "bottom-left",
          "label": "Bottom left"
        },
        {
          "value": "bottom-center",
          "label": "Bottom center"
        },
        {
          "value": "bottom-right",
          "label": "Bottom right"
        }
      ],
      "default": "middle-left"
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "Desktop text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "content_width",
      "min": 200,
      "max": 600,
      "step": 10,
      "unit": "px",
      "label": "Desktop content width",
      "default": 400
    },
    {
      "type": "range",
      "id": "content_padding",
      "min": 15,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Desktop content padding",
      "default": 30
    },
    {
      "type": "color",
      "id": "content_bg_color",
      "label": "Content background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "content_bg_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Content background opacity",
      "default": 85
    },
    {
      "type": "header",
      "content": "Heading Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "ABOUT US"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "min": 16,
      "max": 60,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 32
    },
    {
      "type": "range",
      "id": "heading_font_weight",
      "min": 300,
      "max": 900,
      "step": 100,
      "label": "Font weight",
      "default": 700
    },
    {
      "type": "select",
      "id": "heading_text_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Margin bottom",
      "default": 16
    },
    {
      "type": "header",
      "content": "Text Content Settings"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text content",
      "default": "<p>Our goal at My Medic is to prepare you with the equipment and training for the unexpected emergency.</p>"
    },
    {
      "type": "range",
      "id": "text_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "range",
      "id": "text_line_height",
      "min": 1.2,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.5
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "text_margin_bottom",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Margin bottom",
      "default": 20
    },
    {
      "type": "range",
      "id": "text_max_width",
      "min": 200,
      "max": 600,
      "step": 10,
      "unit": "px",
      "label": "Max width",
      "default": 400
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "LEARN MORE"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "checkbox",
      "id": "button_arrow",
      "label": "Show arrow after text",
      "default": true
    },
    {
      "type": "select",
      "id": "button_position",
      "label": "Desktop button position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "button_padding_v",
      "min": 5,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Vertical padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_padding_h",
      "min": 10,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 25
    },
    {
      "type": "range",
      "id": "button_font_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_font_weight",
      "min": 300,
      "max": 900,
      "step": 100,
      "label": "Font weight",
      "default": 700
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Border radius",
      "default": 0
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Background color",
      "default": "#E52E2E"
    },
    {
      "type": "color",
      "id": "button_hover_bg_color",
      "label": "Hover background color",
      "default": "#C42020"
    },
    {
      "type": "header",
      "content": "Mobile Settings"
    },
    {
      "type": "select",
      "id": "mobile_content_position",
      "label": "Mobile content position",
      "options": [
        {
          "value": "top-left",
          "label": "Top left"
        },
        {
          "value": "top-center",
          "label": "Top center"
        },
        {
          "value": "top-right",
          "label": "Top right"
        },
        {
          "value": "middle-left",
          "label": "Middle left"
        },
        {
          "value": "middle-center",
          "label": "Middle center"
        },
        {
          "value": "middle-right",
          "label": "Middle right"
        },
        {
          "value": "bottom-left",
          "label": "Bottom left"
        },
        {
          "value": "bottom-center",
          "label": "Bottom center"
        },
        {
          "value": "bottom-right",
          "label": "Bottom right"
        }
      ],
      "default": "middle-center"
    },
    {
      "type": "select",
      "id": "mobile_content_alignment",
      "label": "Mobile text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "mobile_content_width",
      "min": 50,
      "max": 100,
      "step": 1,
      "unit": "%",
      "label": "Mobile content width",
      "default": 60
    },
    {
      "type": "range",
      "id": "mobile_content_padding",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Mobile content padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "mobile_content_bg_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Mobile content background opacity",
      "default": 85
    },
    {
      "type": "header",
      "content": "Mobile Typography"
    },
    {
      "type": "range",
      "id": "mobile_heading_font_size",
      "min": 14,
      "max": 40,
      "step": 1,
      "unit": "px",
      "label": "Heading font size",
      "default": 24
    },
    {
      "type": "range",
      "id": "mobile_heading_font_weight",
      "min": 300,
      "max": 900,
      "step": 100,
      "label": "Heading font weight",
      "default": 700
    },
    {
      "type": "select",
      "id": "mobile_heading_text_transform",
      "label": "Heading text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "range",
      "id": "mobile_text_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Text font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "mobile_text_line_height",
      "min": 1.2,
      "max": 2,
      "step": 0.1,
      "label": "Text line height",
      "default": 1.5
    },
    {
      "type": "range",
      "id": "mobile_button_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button font size",
      "default": 12
    },
    {
      "type": "range",
      "id": "mobile_button_font_weight",
      "min": 300,
      "max": 900,
      "step": 100,
      "label": "Button font weight",
      "default": 700
    },
    {
      "type": "select",
      "id": "mobile_button_position",
      "label": "Button position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    }
  ],
  "presets": [
    {
      "name": "About Us Banner",
      "category": "Image"
    }
  ]
}
{% endschema %} 